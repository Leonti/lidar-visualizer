const event = {"event":{"lidar":{"scan_points":[{"angle":6.1470447,"distance":1.01775,"quality":60,"is_sync":true,"is_valid":true},{"angle":6.1732183,"distance":0.9255,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.1974745,"distance":0.85125,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.2215385,"distance":0.789,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.2465615,"distance":0.73375,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.2711053,"distance":0.688,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.013901701,"distance":0.647,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.03787015,"distance":0.61075,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.0618386,"distance":0.57875,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.088587396,"distance":0.551,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.11476094,"distance":0.52525,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.1347027,"distance":0.50225,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.16221847,"distance":0.48225,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.18647455,"distance":0.463,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.20747091,"distance":0.4455,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.26039323,"distance":0.29825,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.33536655,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":0.35914326,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":0.38176948,"distance":0.0,"quality":60,"is_sync":false,"is_valid":false},{"angle":0.33651704,"distance":0.379,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.35473308,"distance":0.3685,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.38176948,"distance":0.3585,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.40679255,"distance":0.3495,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.42481682,"distance":0.34125,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.4526202,"distance":0.33375,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.479369,"distance":0.32675,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.50448793,"distance":0.3195,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.52078646,"distance":0.31375,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.55242485,"distance":0.308,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.5794613,"distance":0.30275,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.5925001,"distance":0.2975,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.61685205,"distance":0.2925,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.6451348,"distance":0.2885,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.6732258,"distance":0.284,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.7008375,"distance":0.28025,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.7234637,"distance":0.277,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.7395705,"distance":0.2735,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.75912875,"distance":0.27075,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.7926846,"distance":0.26725,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.81694067,"distance":0.265,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.83275986,"distance":0.2625,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.8578788,"distance":0.26,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.8862574,"distance":0.25775,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.8966118,"distance":0.256,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.93505716,"distance":0.25375,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.96151835,"distance":0.2525,"quality":60,"is_sync":false,"is_valid":true},{"angle":0.97983027,"distance":0.251,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.0032234,"distance":0.2495,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.0479965,"distance":0.249,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.0329443,"distance":0.248,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.06813,"distance":0.24675,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.0839492,"distance":0.24625,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.1287223,"distance":0.2455,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.1322696,"distance":0.2455,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.1739748,"distance":0.24475,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.1731118,"distance":0.24475,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.228527,"distance":0.245,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.2214322,"distance":0.2445,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.2437708,"distance":0.24525,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.2955427,"distance":0.24525,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.302925,"distance":0.246,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.3149092,"distance":0.2465,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.3571895,"distance":0.247,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.3487526,"distance":0.2485,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.3798157,"distance":0.2495,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.422959,"distance":0.25,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.4406956,"distance":0.25175,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.453255,"distance":0.253,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.4875779,"distance":0.254,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.4794286,"distance":0.25625,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.5094371,"distance":0.25825,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.539158,"distance":0.26025,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.5579493,"distance":0.26225,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.5811508,"distance":0.264,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.6056944,"distance":0.26625,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.6163365,"distance":0.27,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.6321557,"distance":0.27225,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.6601508,"distance":0.27525,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.6790379,"distance":0.27825,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.7087588,"distance":0.282,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.7196884,"distance":0.28525,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.7384796,"distance":0.28925,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.7569833,"distance":0.2935,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.7828692,"distance":0.2975,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.8131653,"distance":0.3015,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.8279299,"distance":0.3065,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.8421192,"distance":0.31175,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.8728948,"distance":0.317,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.8960962,"distance":0.32225,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.9110525,"distance":0.3285,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.9320488,"distance":0.335,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.9490185,"distance":0.342,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.9719324,"distance":0.34875,"quality":60,"is_sync":false,"is_valid":true},{"angle":1.9983935,"distance":0.357,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.0133498,"distance":0.365,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.0356884,"distance":0.374,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.052658,"distance":0.38325,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.0788317,"distance":0.3925,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.095993,"distance":0.4035,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.1213038,"distance":0.415,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.139328,"distance":0.4265,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.1579275,"distance":0.438,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.1796908,"distance":0.4515,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.19714,"distance":0.46425,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.2203414,"distance":0.47575,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.24105,"distance":0.48975,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.2658815,"distance":0.503,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.282276,"distance":0.51875,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.3615634,"distance":0.25875,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.3834226,"distance":0.2585,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.4199507,"distance":0.257,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.4505343,"distance":0.25625,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.4676957,"distance":0.252,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.4671206,"distance":0.2495,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.516208,"distance":0.2435,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.5203304,"distance":0.243,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.5522566,"distance":0.24325,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.5601182,"distance":0.24225,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.5909896,"distance":0.24125,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.6378717,"distance":0.239,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.6485138,"distance":0.239,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.660498,"distance":0.2385,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.7051752,"distance":0.23725,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.694533,"distance":0.237,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.7351837,"distance":0.237,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.755413,"distance":0.237,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.7799568,"distance":0.23675,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.7981727,"distance":0.23675,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.8225248,"distance":0.23725,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.8491776,"distance":0.23725,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.857135,"distance":0.23775,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.8772686,"distance":0.23825,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.9113998,"distance":0.23925,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.9258766,"distance":0.24025,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.9443803,"distance":0.24025,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.9664314,"distance":0.24175,"quality":60,"is_sync":false,"is_valid":true},{"angle":2.983401,"distance":0.24375,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.0400624,"distance":0.24325,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.0324883,"distance":0.23675,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.0703585,"distance":0.23475,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.109379,"distance":0.2395,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.1009421,"distance":0.2485,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.1158986,"distance":0.25325,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.1608634,"distance":0.256,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.1685333,"distance":0.25875,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.1966243,"distance":0.26,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.2062116,"distance":0.262,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.2252905,"distance":0.2645,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.2672832,"distance":0.268,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.2757201,"distance":0.272,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.2850199,"distance":0.2765,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.316083,"distance":0.28,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.337367,"distance":0.283,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.3531861,"distance":0.286,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.3834825,"distance":0.29,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.4033282,"distance":0.2945,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.4248998,"distance":0.29325,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.4341996,"distance":0.305,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.4603732,"distance":0.30625,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.4761922,"distance":0.31675,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.4974763,"distance":0.3245,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.527964,"distance":0.331,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.5415783,"distance":0.3405,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.5640128,"distance":0.34775,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.5901864,"distance":0.34875,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.609265,"distance":0.36475,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.6271935,"distance":0.3765,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.6425333,"distance":0.38525,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.6654472,"distance":0.39775,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.6888404,"distance":0.40975,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.7079194,"distance":0.4225,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.7240262,"distance":0.43675,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.7478027,"distance":0.45025,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.764964,"distance":0.46675,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.7875905,"distance":0.48425,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.811559,"distance":0.50225,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.8306377,"distance":0.52375,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.8492372,"distance":0.54525,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.8686037,"distance":0.569,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.8884497,"distance":0.59875,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.9128015,"distance":0.626,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.9296753,"distance":0.66125,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.9515345,"distance":0.691,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.9719558,"distance":0.74725,"quality":60,"is_sync":false,"is_valid":true},{"angle":3.9916098,"distance":0.80025,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.0104012,"distance":0.8655,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.030343,"distance":0.94475,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.050764,"distance":1.06225,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.071185,"distance":1.16725,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.0914145,"distance":1.2325,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.102248,"distance":2.765,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.1249704,"distance":2.74825,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.147309,"distance":2.72325,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.169935,"distance":2.7035,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.191986,"distance":2.69725,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.2146125,"distance":2.6965,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.2372384,"distance":2.686,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.2593856,"distance":2.682,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.281724,"distance":2.68825,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.304638,"distance":2.68325,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.327264,"distance":2.68525,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.3491235,"distance":2.684,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.3711743,"distance":2.68475,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.3946633,"distance":2.67925,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.4175773,"distance":2.68875,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.4399157,"distance":2.686,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.4622545,"distance":2.6985,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.4848804,"distance":2.72375,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.5067396,"distance":2.7275,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.5290785,"distance":2.7325,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.5517044,"distance":2.736,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.5738516,"distance":2.76425,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.602134,"distance":1.76075,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.6253357,"distance":1.67475,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.6457567,"distance":1.79175,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.7941694,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":4.816796,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":4.839134,"distance":0.0,"quality":40,"is_sync":false,"is_valid":false},{"angle":4.861473,"distance":0.0,"quality":60,"is_sync":false,"is_valid":false},{"angle":4.7589836,"distance":1.67575,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.781035,"distance":1.71225,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.8012643,"distance":1.7655,"quality":52,"is_sync":false,"is_valid":true},{"angle":4.948814,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":4.857446,"distance":0.9875,"quality":40,"is_sync":false,"is_valid":true},{"angle":4.8808393,"distance":0.9445,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.904616,"distance":0.92925,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.9261875,"distance":0.94025,"quality":60,"is_sync":false,"is_valid":true},{"angle":4.946609,"distance":0.9635,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.0826535,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.105088,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.1274266,"distance":0.0,"quality":60,"is_sync":false,"is_valid":false},{"angle":5.0141997,"distance":6.1175,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.0545626,"distance":1.1445,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.0767097,"distance":1.13,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.168844,"distance":0.279,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.1999073,"distance":0.27325,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.2130423,"distance":0.26725,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.2607875,"distance":0.2615,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.277661,"distance":0.25625,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.2888784,"distance":0.2515,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.329433,"distance":0.2475,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.3731513,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.3586745,"distance":0.26075,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.3755484,"distance":0.27025,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.44103,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.4633684,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.4857073,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.5081415,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.5304804,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.552819,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.443235,"distance":3.2845,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.4658613,"distance":3.17,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.4884877,"distance":3.19975,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.510826,"distance":3.236,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.5334525,"distance":3.10075,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.555599,"distance":3.0755,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.5782256,"distance":3.03725,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.6008515,"distance":3.02325,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.623478,"distance":2.99125,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.646104,"distance":2.96275,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.6684427,"distance":2.9685,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.690781,"distance":2.95025,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.7126403,"distance":3.11925,"quality":48,"is_sync":false,"is_valid":true},{"angle":5.7361298,"distance":2.98275,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.7666173,"distance":1.51025,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.788189,"distance":1.5085,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.9341087,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.9564476,"distance":0.0,"quality":60,"is_sync":false,"is_valid":false},{"angle":5.975814,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.8705444,"distance":2.9385,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.9002657,"distance":1.51975,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.9845386,"distance":0.317,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.0682364,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":5.9622,"distance":2.3775,"quality":60,"is_sync":false,"is_valid":true},{"angle":5.9900036,"distance":1.55225,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.135636,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":6.034393,"distance":1.5295,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.091438,"distance":0.51425,"quality":48,"is_sync":false,"is_valid":true},{"angle":6.081563,"distance":1.37375,"quality":60,"is_sync":false,"is_valid":true},{"angle":6.2255654,"distance":0.0,"quality":0,"is_sync":false,"is_valid":false},{"angle":6.132088,"distance":1.09,"quality":60,"is_sync":false,"is_valid":true}]}},"time":1580381288081}



const scanPoints = event.event.lidar.scan_points.filter(p => p.is_valid)
console.log(scanPoints.length)

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

const radius = 4;
const centerX = canvas.width / 2;
const centerY = canvas.height / 2;
ctx.fillStyle = 'red';
ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
ctx.fill();

scanPoints.forEach(point => {
  drawPoint(point)
})

const angles = scanPoints.map(p => p.angle)
const distances = scanPoints.map(p => p.distance)
console.log(Math.max(...angles))

const toDegree = a => a * 180 / Math.PI

//const degrees = scanPoints.map(p => p.angle * 180 / Math.PI)
const arrAvg = arr => arr.reduce((a,b) => a + b, 0) / arr.length

console.log(arrAvg(scanPoints.filter(p => toDegree(p.angle) < 90).map(p => p.distance)))
console.log(arrAvg(scanPoints.filter(p => toDegree(p.angle) > 90 && toDegree(p.angle) < 180).map(p => p.distance)))
console.log(arrAvg(scanPoints.filter(p => toDegree(p.angle) > 180 && toDegree(p.angle) < 270).map(p => p.distance)))
console.log(arrAvg(scanPoints.filter(p => toDegree(p.angle) > 270 && toDegree(p.angle) < 360).map(p => p.distance)))

function drawPoint(point) {

    let x = Math.cos(point.angle) * point.distance
    let y = Math.sin(point.angle) * point.distance

    const scaleFactor = 200
    const scaledX = x * scaleFactor
    const scaledY = y * scaleFactor
  
    ctx.fillStyle = 'green';
    ctx.fillRect(centerX + scaledX, centerY + scaledY, 4, 4);


}